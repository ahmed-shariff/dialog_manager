from pyModule.ME_class import ME
from nltk.classify import accuracy
from random import shuffle
import pickle
nil_model_featureset = [({"thank":0.30103,"1":0.30103,"just":0.90309}, "nil"),({"going":0.60206}, "nil"),({"colombo":1.5051501,"leaving":0.60206,"be":0.60206}, "nil"),({"aron":0.30103,"pual":0.30103,"is":1.20412,"name":1.20412,"my":1.20412}, "nil"),({"book":1.80618,"like":0.60206}, "not-nil"),({"colombo":1.5051501,"it":0.60206}, "nil"),({"taxi":0.30103}, "not-nil"),({"maradhana":1.20412,"going":0.60206}, "nil"),({"dhambulla":1.5051501,"leaving":0.60206,"be":0.60206}, "nil"),({"train":1.5051501}, "not-nil"),({"one":3.0103002,"take":0.60206,"i'll":0.90309}, "nil"),({"rotti":0.30103,"have":0.60206}, "nil"),({"food":1.20412}, "not-nil"),({"com":1.20412,"dot":1.20412,"gmail":0.30103,"at":1.5051501,"fernando":0.30103,"f":0.30103,"sahan":0.60206,"it's":0.60206}, "nil"),({"old":0.30103,"years":0.30103,"six":0.30103,"twnty":0.60206}, "nil"),({"sahan":0.60206}, "nil"),({"account":1.20412,"online":0.90309,"an":1.20412,"create":0.60206}, "not-nil"),({"two":1.20412}, "nil"),({"night":0.60206,"one":3.0103002}, "nil"),({"bhashithe":0.60206,"it's":0.60206}, "nil"),({}, "not-nil"),({"tickets":0.30103,"2":0.30103}, "nil"),({"jafna":0.30103}, "nil"),({"dhambulla":1.5051501}, "nil"),({"luna":0.30103,"diago":0.30103}, "nil"),({"book":1.80618}, "not-nil"),({}, "nil"),({"maradhana":1.20412,"moving":0.30103}, "nil"),({"shedules":0.60206,"train":1.5051501,"get":0.30103}, "not-nil"),({"two":1.20412}, "nil"),({"bread":0.30103,"give":0.60206}, "nil"),({"food":1.20412,"buy":0.60206,"like":0.60206}, "not-nil"),({"com":1.20412,"dot":1.20412,"hotmail":0.30103,"at":1.5051501,"kshare":0.60206}, "nil"),({"three":1.20412,"twnty":0.60206,"i'm":0.30103}, "nil"),({"kshare":0.60206,"is":1.20412,"name":1.20412,"my":1.20412}, "nil"),({"online":0.90309,"account":1.20412,"an":1.20412,"signup":0.30103}, "not-nil"),({"three":1.20412}, "nil"),({"maradhana":1.20412,"off":0.30103,"getting":0.30103}, "nil"),({"fort":0.30103,"colombo":1.5051501}, "nil"),({"abesinghe":0.30103,"bhashithe":0.60206}, "nil"),({"train":1.5051501,"book":1.80618,"help":0.30103}, "not-nil"),({"maradhana":1.20412}, "nil"),({"cab":0.60206}, "not-nil"),({"colombo":1.5051501,"leave":0.30103,"that":0.30103}, "nil"),({}, "nil"),({"nleaving":0.30103,"train":1.5051501,"shedules":0.60206}, "not-nil"),({"one":3.0103002,"just":0.90309}, "nil"),({"bun":0.30103,"give":0.60206}, "nil"),({"food":1.20412,"buy":0.60206}, "not-nil"),({"com":1.20412,"dot":1.20412,"ymail":0.30103,"at":1.5051501,"five":0.90309,"five":0.90309,"five":0.90309,"underscore":0.30103,"roberta":0.60206}, "nil"),({"one":3.0103002,"twenty":0.30103}, "nil"),({"roberta":0.60206}, "nil"),({"account":1.20412,"online":0.90309,"an":1.20412,"create":0.60206}, "not-nil"),({"rooms":0.30103,"three":1.20412}, "nil"),({"night":0.60206,"one":3.0103002}, "nil"),({"rankan":0.30103,"is":1.20412,"name":1.20412,"my":1.20412}, "nil"),({"few":0.30103,"book":1.80618}, "not-nil"),({"one":3.0103002,"just":0.90309}, "nil"),({"colombo":1.5051501}, "nil"),({"dhambulla":1.5051501}, "nil"),({"mahanama":0.60206,"roshan":0.30103,"is":1.20412,"name":1.20412,"my":1.20412}, "nil"),({"train":1.5051501,"book":1.80618}, "not-nil"),({"dhambulla":1.5051501,"at":1.5051501,"it":0.60206,"have":0.60206,"i'll":0.90309}, "nil"),({"cab":0.60206}, "not-nil"),({}, "nil"),({"dhambulla":1.5051501,"fomr":0.30103}, "nil"),({"time":0.30103,"departing":0.30103,"about":0.30103,"find":0.30103}, "not-nil"),({"one":3.0103002}, "nil"),({"do":0.30103,"will":0.30103,"cacke":0.30103,"piece":0.30103}, "nil"),({"food":1.20412,"order":0.30103}, "not-nil"),({"com":1.20412,"dot":1.20412,"live":0.30103,"at":1.5051501,"three":1.20412,"two":1.20412,"one":3.0103002,"mhana":0.30103}, "nil"),({"two":1.20412,"fifty":0.30103}, "nil"),({"mahanama":0.60206}, "nil"),({"account":1.20412,"onilne":0.30103,"an":1.20412,"open":0.30103}, "not-nil"),({"one":3.0103002,"take":0.60206,"i'll":0.90309}, "nil"),({"day":0.30103,"one":3.0103002,"staying":0.30103}, "nil"),({"warren":0.30103}, "nil"),({"book":1.80618}, "not-nil")]
nil_model_feature_mapping_temp = {}
nil_model_feature_mapping_temp["nil","thank"] = 0.30103
nil_model_feature_mapping_temp["nil","1"] = 0.30103
nil_model_feature_mapping_temp["nil","just"] = 0.90309
nil_model_feature_mapping_temp["nil","going"] = 0.60206
nil_model_feature_mapping_temp["nil","colombo"] = 1.5051501
nil_model_feature_mapping_temp["nil","leaving"] = 0.60206
nil_model_feature_mapping_temp["nil","be"] = 0.60206
nil_model_feature_mapping_temp["nil","aron"] = 0.30103
nil_model_feature_mapping_temp["nil","pual"] = 0.30103
nil_model_feature_mapping_temp["nil","is"] = 1.20412
nil_model_feature_mapping_temp["nil","name"] = 1.20412
nil_model_feature_mapping_temp["nil","my"] = 1.20412
nil_model_feature_mapping_temp["not-nil","book"] = 1.80618
nil_model_feature_mapping_temp["not-nil","like"] = 0.60206
nil_model_feature_mapping_temp["nil","colombo"] = 1.5051501
nil_model_feature_mapping_temp["nil","it"] = 0.60206
nil_model_feature_mapping_temp["not-nil","taxi"] = 0.30103
nil_model_feature_mapping_temp["nil","maradhana"] = 1.20412
nil_model_feature_mapping_temp["nil","going"] = 0.60206
nil_model_feature_mapping_temp["nil","dhambulla"] = 1.5051501
nil_model_feature_mapping_temp["nil","leaving"] = 0.60206
nil_model_feature_mapping_temp["nil","be"] = 0.60206
nil_model_feature_mapping_temp["not-nil","train"] = 1.5051501
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","take"] = 0.60206
nil_model_feature_mapping_temp["nil","i'll"] = 0.90309
nil_model_feature_mapping_temp["nil","rotti"] = 0.30103
nil_model_feature_mapping_temp["nil","have"] = 0.60206
nil_model_feature_mapping_temp["not-nil","food"] = 1.20412
nil_model_feature_mapping_temp["nil","com"] = 1.20412
nil_model_feature_mapping_temp["nil","dot"] = 1.20412
nil_model_feature_mapping_temp["nil","gmail"] = 0.30103
nil_model_feature_mapping_temp["nil","at"] = 1.5051501
nil_model_feature_mapping_temp["nil","fernando"] = 0.30103
nil_model_feature_mapping_temp["nil","f"] = 0.30103
nil_model_feature_mapping_temp["nil","sahan"] = 0.60206
nil_model_feature_mapping_temp["nil","it's"] = 0.60206
nil_model_feature_mapping_temp["nil","old"] = 0.30103
nil_model_feature_mapping_temp["nil","years"] = 0.30103
nil_model_feature_mapping_temp["nil","six"] = 0.30103
nil_model_feature_mapping_temp["nil","twnty"] = 0.60206
nil_model_feature_mapping_temp["nil","sahan"] = 0.60206
nil_model_feature_mapping_temp["not-nil","account"] = 1.20412
nil_model_feature_mapping_temp["not-nil","online"] = 0.90309
nil_model_feature_mapping_temp["not-nil","an"] = 1.20412
nil_model_feature_mapping_temp["not-nil","create"] = 0.60206
nil_model_feature_mapping_temp["nil","two"] = 1.20412
nil_model_feature_mapping_temp["nil","night"] = 0.60206
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","bhashithe"] = 0.60206
nil_model_feature_mapping_temp["nil","it's"] = 0.60206
nil_model_feature_mapping_temp["nil","tickets"] = 0.30103
nil_model_feature_mapping_temp["nil","2"] = 0.30103
nil_model_feature_mapping_temp["nil","jafna"] = 0.30103
nil_model_feature_mapping_temp["nil","dhambulla"] = 1.5051501
nil_model_feature_mapping_temp["nil","luna"] = 0.30103
nil_model_feature_mapping_temp["nil","diago"] = 0.30103
nil_model_feature_mapping_temp["not-nil","book"] = 1.80618
nil_model_feature_mapping_temp["nil","maradhana"] = 1.20412
nil_model_feature_mapping_temp["nil","moving"] = 0.30103
nil_model_feature_mapping_temp["not-nil","shedules"] = 0.60206
nil_model_feature_mapping_temp["not-nil","train"] = 1.5051501
nil_model_feature_mapping_temp["not-nil","get"] = 0.30103
nil_model_feature_mapping_temp["nil","two"] = 1.20412
nil_model_feature_mapping_temp["nil","bread"] = 0.30103
nil_model_feature_mapping_temp["nil","give"] = 0.60206
nil_model_feature_mapping_temp["not-nil","food"] = 1.20412
nil_model_feature_mapping_temp["not-nil","buy"] = 0.60206
nil_model_feature_mapping_temp["not-nil","like"] = 0.60206
nil_model_feature_mapping_temp["nil","com"] = 1.20412
nil_model_feature_mapping_temp["nil","dot"] = 1.20412
nil_model_feature_mapping_temp["nil","hotmail"] = 0.30103
nil_model_feature_mapping_temp["nil","at"] = 1.5051501
nil_model_feature_mapping_temp["nil","kshare"] = 0.60206
nil_model_feature_mapping_temp["nil","three"] = 1.20412
nil_model_feature_mapping_temp["nil","twnty"] = 0.60206
nil_model_feature_mapping_temp["nil","i'm"] = 0.30103
nil_model_feature_mapping_temp["nil","kshare"] = 0.60206
nil_model_feature_mapping_temp["nil","is"] = 1.20412
nil_model_feature_mapping_temp["nil","name"] = 1.20412
nil_model_feature_mapping_temp["nil","my"] = 1.20412
nil_model_feature_mapping_temp["not-nil","online"] = 0.90309
nil_model_feature_mapping_temp["not-nil","account"] = 1.20412
nil_model_feature_mapping_temp["not-nil","an"] = 1.20412
nil_model_feature_mapping_temp["not-nil","signup"] = 0.30103
nil_model_feature_mapping_temp["nil","three"] = 1.20412
nil_model_feature_mapping_temp["nil","maradhana"] = 1.20412
nil_model_feature_mapping_temp["nil","off"] = 0.30103
nil_model_feature_mapping_temp["nil","getting"] = 0.30103
nil_model_feature_mapping_temp["nil","fort"] = 0.30103
nil_model_feature_mapping_temp["nil","colombo"] = 1.5051501
nil_model_feature_mapping_temp["nil","abesinghe"] = 0.30103
nil_model_feature_mapping_temp["nil","bhashithe"] = 0.60206
nil_model_feature_mapping_temp["not-nil","train"] = 1.5051501
nil_model_feature_mapping_temp["not-nil","book"] = 1.80618
nil_model_feature_mapping_temp["not-nil","help"] = 0.30103
nil_model_feature_mapping_temp["nil","maradhana"] = 1.20412
nil_model_feature_mapping_temp["not-nil","cab"] = 0.60206
nil_model_feature_mapping_temp["nil","colombo"] = 1.5051501
nil_model_feature_mapping_temp["nil","leave"] = 0.30103
nil_model_feature_mapping_temp["nil","that"] = 0.30103
nil_model_feature_mapping_temp["not-nil","nleaving"] = 0.30103
nil_model_feature_mapping_temp["not-nil","train"] = 1.5051501
nil_model_feature_mapping_temp["not-nil","shedules"] = 0.60206
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","just"] = 0.90309
nil_model_feature_mapping_temp["nil","bun"] = 0.30103
nil_model_feature_mapping_temp["nil","give"] = 0.60206
nil_model_feature_mapping_temp["not-nil","food"] = 1.20412
nil_model_feature_mapping_temp["not-nil","buy"] = 0.60206
nil_model_feature_mapping_temp["nil","com"] = 1.20412
nil_model_feature_mapping_temp["nil","dot"] = 1.20412
nil_model_feature_mapping_temp["nil","ymail"] = 0.30103
nil_model_feature_mapping_temp["nil","at"] = 1.5051501
nil_model_feature_mapping_temp["nil","five"] = 0.90309
nil_model_feature_mapping_temp["nil","five"] = 0.90309
nil_model_feature_mapping_temp["nil","five"] = 0.90309
nil_model_feature_mapping_temp["nil","underscore"] = 0.30103
nil_model_feature_mapping_temp["nil","roberta"] = 0.60206
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","twenty"] = 0.30103
nil_model_feature_mapping_temp["nil","roberta"] = 0.60206
nil_model_feature_mapping_temp["not-nil","account"] = 1.20412
nil_model_feature_mapping_temp["not-nil","online"] = 0.90309
nil_model_feature_mapping_temp["not-nil","an"] = 1.20412
nil_model_feature_mapping_temp["not-nil","create"] = 0.60206
nil_model_feature_mapping_temp["nil","rooms"] = 0.30103
nil_model_feature_mapping_temp["nil","three"] = 1.20412
nil_model_feature_mapping_temp["nil","night"] = 0.60206
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","rankan"] = 0.30103
nil_model_feature_mapping_temp["nil","is"] = 1.20412
nil_model_feature_mapping_temp["nil","name"] = 1.20412
nil_model_feature_mapping_temp["nil","my"] = 1.20412
nil_model_feature_mapping_temp["not-nil","few"] = 0.30103
nil_model_feature_mapping_temp["not-nil","book"] = 1.80618
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","just"] = 0.90309
nil_model_feature_mapping_temp["nil","colombo"] = 1.5051501
nil_model_feature_mapping_temp["nil","dhambulla"] = 1.5051501
nil_model_feature_mapping_temp["nil","mahanama"] = 0.60206
nil_model_feature_mapping_temp["nil","roshan"] = 0.30103
nil_model_feature_mapping_temp["nil","is"] = 1.20412
nil_model_feature_mapping_temp["nil","name"] = 1.20412
nil_model_feature_mapping_temp["nil","my"] = 1.20412
nil_model_feature_mapping_temp["not-nil","train"] = 1.5051501
nil_model_feature_mapping_temp["not-nil","book"] = 1.80618
nil_model_feature_mapping_temp["nil","dhambulla"] = 1.5051501
nil_model_feature_mapping_temp["nil","at"] = 1.5051501
nil_model_feature_mapping_temp["nil","it"] = 0.60206
nil_model_feature_mapping_temp["nil","have"] = 0.60206
nil_model_feature_mapping_temp["nil","i'll"] = 0.90309
nil_model_feature_mapping_temp["not-nil","cab"] = 0.60206
nil_model_feature_mapping_temp["nil","dhambulla"] = 1.5051501
nil_model_feature_mapping_temp["nil","fomr"] = 0.30103
nil_model_feature_mapping_temp["not-nil","time"] = 0.30103
nil_model_feature_mapping_temp["not-nil","departing"] = 0.30103
nil_model_feature_mapping_temp["not-nil","about"] = 0.30103
nil_model_feature_mapping_temp["not-nil","find"] = 0.30103
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","do"] = 0.30103
nil_model_feature_mapping_temp["nil","will"] = 0.30103
nil_model_feature_mapping_temp["nil","cacke"] = 0.30103
nil_model_feature_mapping_temp["nil","piece"] = 0.30103
nil_model_feature_mapping_temp["not-nil","food"] = 1.20412
nil_model_feature_mapping_temp["not-nil","order"] = 0.30103
nil_model_feature_mapping_temp["nil","com"] = 1.20412
nil_model_feature_mapping_temp["nil","dot"] = 1.20412
nil_model_feature_mapping_temp["nil","live"] = 0.30103
nil_model_feature_mapping_temp["nil","at"] = 1.5051501
nil_model_feature_mapping_temp["nil","three"] = 1.20412
nil_model_feature_mapping_temp["nil","two"] = 1.20412
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","mhana"] = 0.30103
nil_model_feature_mapping_temp["nil","two"] = 1.20412
nil_model_feature_mapping_temp["nil","fifty"] = 0.30103
nil_model_feature_mapping_temp["nil","mahanama"] = 0.60206
nil_model_feature_mapping_temp["not-nil","account"] = 1.20412
nil_model_feature_mapping_temp["not-nil","onilne"] = 0.30103
nil_model_feature_mapping_temp["not-nil","an"] = 1.20412
nil_model_feature_mapping_temp["not-nil","open"] = 0.30103
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","take"] = 0.60206
nil_model_feature_mapping_temp["nil","i'll"] = 0.90309
nil_model_feature_mapping_temp["nil","day"] = 0.30103
nil_model_feature_mapping_temp["nil","one"] = 3.0103002
nil_model_feature_mapping_temp["nil","staying"] = 0.30103
nil_model_feature_mapping_temp["nil","warren"] = 0.30103
nil_model_feature_mapping_temp["not-nil","book"] = 1.80618
nil_model_feature_mapping={}
for index,[label,f] in enumerate(nil_model_feature_mapping_temp):
    nil_model_feature_mapping[label,f] = (index,nil_model_feature_mapping_temp[label,f])
shuffle(nil_model_featureset)
train_set,test_set = nil_model_featureset[10:],nil_model_featureset[:10]
nil_model_model = ME(nil_model_feature_mapping)
nil_model_model.train(nil_model_featureset)
print(accuracy(nil_model_model.classifier,test_set))
save_classifier = open("nil_model.pickle","wb")
pickle.dump(nil_model_model, save_classifier)
save_classifier.close()
