from nltk.classify.maxent import TypedMaxentFeatureEncoding
from nltk.classify.maxent import FunctionBackedMaxentFeatureEncoding
from nltk.classify.maxent import MaxentClassifier
from nltk.classify import accuracy
from random import shuffle
import pickle
model_featureset = [({"train":8.428841,"a":13.5463505,"book":10.83708,"i":1.9838858,"can":4.51545}, "root-concern"),({"shariff":0.90309,"ahmed":1.20412,"it's":0.60206}, "book-train-name"),({"kandy":0.50514996,"from":2.0205998}, "book-train-departure"),({"colombo":1.0102999,"to":1.2779062}, "book-train-destination"),({"please":1.4539974,"tickets":2.40824,"5":1.20412}, "book-train-number-of-tickets"),({"ticket":1.80618,"a":13.5463505,"book":10.83708,"to":8.093406,"like":4.51545,"would":1.5154499,"i":1.9838858}, "root-concern"),({"aron":1.20412,"pual":1.20412,"is":1.4539974,"name":1.4539974,"my":1.4539974}, "book-train-name"),({"colombo":1.0102999,"from":2.0205998,"leaving":0.90309,"be":0.7269987,"would":0.50514996,"i":0.09017663}, "book-train-departure"),({"kandy":0.50514996,"to":1.2779062,"going":0.90309,"am":0.60206,"i":0.18035325}, "book-train-destination"),({"you":0.90309,"thank":1.20412,"1":1.20412,"just":1.4539974}, "book-train-number-of-tickets"),({"ticket":1.80618,"a":13.5463505,"book":10.83708,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"luna":1.20412,"diago":1.20412}, "book-train-name"),({"dhambulla":1.20412,"from":2.0205998}, "book-train-departure"),({"jafna":1.20412,"to":1.2779062}, "book-train-destination"),({"please":1.4539974,"tickets":2.40824,"2":1.20412}, "book-train-number-of-tickets"),({"train":8.428841,"a":13.5463505,"book":10.83708,"to":8.093406,"me":1.80618,"help":1.20412,"please":2.9079947,"you":1.80618,"can":4.51545}, "root-concern"),({"abesinghe":1.20412,"bhashithe":0.90309,"am":0.30103,"i":0.09017663}, "book-train-name"),({"fort":1.20412,"colombo":1.0102999}, "book-train-departure"),({"maradhana":0.7269987,"from":0.50514996,"off":1.20412,"getting":1.20412,"am":0.60206,"i":0.18035325}, "book-train-destination"),({"three":0.4259687}, "book-train-number-of-tickets"),({"train":8.428841,"a":13.5463505,"book":10.83708,"to":8.093406,"need":2.9079947,"i":1.9838858}, "root-concern"),({"mahanama":0.7269987,"roshan":1.20412,"is":1.4539974,"name":1.4539974,"my":1.4539974}, "book-train-name"),({"dhambulla":1.20412,"from":2.0205998}, "book-train-departure"),({"colombo":1.0102999}, "book-train-destination"),({"ticket":0.90309,"one":0.4259687,"just":1.4539974}, "book-train-number-of-tickets"),({"taxi":2.40824,"a":13.5463505,"order":3.61236,"to":8.093406,"like":4.51545,"i'd":2.40824}, "root-concern"),({"kandy":0.50514996,"at":1.80618}, "order-taxi-location"),({"taxi":2.40824,"a":13.5463505,"me":1.80618,"send":0.7269987,"you":1.80618,"can":4.51545}, "root-concern"),({"colombo":0.50514996,"to":0.8519374,"it":2.40824,"send":0.7269987}, "order-taxi-location"),({"cab":2.40824,"a":13.5463505,"need":2.9079947,"i":1.9838858}, "root-concern"),({"maradhana":0.7269987,"to":0.8519374}, "order-taxi-location"),({"cab":2.40824,"a":13.5463505,"want":7.9969854,"i":1.9838858}, "root-concern"),({"dhambulla":0.60206,"at":1.80618,"it":2.40824,"have":0.90309,"i'll":0.7269987}, "order-taxi-location"),({"schedules":1.20412,"train":8.428841,"the":5.41854,"know":2.70927,"to":8.093406,"like":4.51545,"i'd":2.40824}, "root-concern"),({"colombo":0.50514996,"from":1.0102999,"go":1.20412,"to":0.4259687,"want":0.7269987,"i":0.18035325}, "get-train-info-departure"),({"kandy":2.0205998,"to":2.1298435}, "get-train-info-destination"),({"times":0.90309,"train":8.428841,"the":5.41854,"know":2.70927,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"dhambulla":0.60206,"from":1.0102999,"leaving":0.90309,"be":0.7269987,"would":0.50514996,"i":0.18035325}, "get-train-info-departure"),({"maradhana":1.4539974,"to":2.1298435,"going":0.90309,"am":0.60206,"i":0.27052987}, "get-train-info-destination"),({"shedules":2.40824,"train":8.428841,"the":5.41854,"get":1.20412,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"maradhana":1.4539974,"from":1.0102999,"moving":1.20412}, "get-train-info-destination"),({"kandy":2.0205998,"to":2.1298435,"trains":1.80618,"the":1.80618,"of":0.7269987,"times":0.90309,"the":1.80618,"know":0.90309,"to":2.1298435,"want":0.7269987,"i":0.27052987}, "get-train-info-destination"),({"kandy":0.50514996,"from":0.50514996,"nleaving":1.20412,"train":8.428841,"the":5.41854,"of":0.7269987,"shedules":2.40824,"the":5.41854,"know":2.70927,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"kandy":2.0205998,"from":1.0102999}, "get-train-info-destination"),({"colombo":0.50514996,"to":2.1298435,"leave":1.20412,"that":0.90309,"trains":1.80618,"for":0.7269987,"looking":0.90309,"am":0.60206,"i":0.27052987}, "get-train-info-destination"),({"time":1.20412,"departing":1.20412,"trains":0.90309,"the":5.41854,"about":1.20412,"find":1.20412,"i":1.9838858,"can":4.51545}, "root-concern"),({"dhambulla":0.60206,"fomr":1.20412}, "get-train-info-destination"),({"kandy":2.0205998}, "get-train-info-destination"),({"please":2.9079947,"food":6.0206003,"some":3.61236,"order":3.61236,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"pizza":1.20412,"have":1.80618,"to":0.4259687,"like":0.90309,"would":0.50514996,"i":0.18035325}, "order-food-food-type"),({"please":1.4539974,"":1.20412,"pizza's":1.20412,"three":0.4259687,"us":1.20412,"send":0.7269987}, "order-food-number-of-orders"),({"food":6.0206003,"some":3.61236,"want":7.9969854,"i":1.9838858}, "root-concern"),({"rotti":1.20412,"some":1.80618,"have":1.80618,"i":0.18035325,"can":0.90309}, "order-food-food-type"),({"one":1.2779062,"take":0.90309,"i'll":0.7269987}, "order-food-number-of-orders"),({"food":6.0206003,"buy":2.40824,"to":8.093406,"like":4.51545,"would":1.5154499,"i":1.9838858}, "root-concern"),({"bread":1.20412,"some":1.80618,"me":1.80618,"give":2.40824}, "order-food-food-type"),({"please":1.4539974,"two":0.60206}, "order-food-number-of-orders"),({"food":6.0206003,"some":3.61236,"buy":2.40824}, "root-concern"),({"bun":1.20412,"a":1.80618,"me":1.80618,"give":2.40824}, "order-food-food-type"),({"one":1.2779062,"just":0.7269987,"need":0.7269987,"i":0.09017663}, "order-food-number-of-orders"),({"food":6.0206003,"some":3.61236,"order":3.61236,"to":8.093406,"looking":0.90309,"am":0.60206,"i":1.9838858}, "root-concern"),({"do":1.20412,"will":1.20412,"cacke":1.20412,"of":0.7269987,"piece":1.20412,"a":1.80618}, "order-food-food-type"),({"one":1.2779062}, "order-food-number-of-orders"),({"signup":2.40824,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"chanaka":0.90309,"it's":0.60206}, "signup-online-account-name"),({"five":0.90309,"twnty":3.61236,"i'm":2.40824}, "signup-online-age"),({"com":6.0206003,"dot":7.22472,"live":2.40824,"at":4.51545,"gunasekara":1.20412,"dot":7.22472,"chanaka":0.90309}, "signup-online-account-email-address"),({"account":4.81648,"online":3.61236,"an":4.81648,"create":2.40824,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"sahan":0.90309,"am":0.30103,"i":0.09017663}, "signup-online-account-name"),({"old":1.20412,"years":1.20412,"six":1.20412,"twnty":3.61236,"am":0.90309,"i":0.27052987}, "signup-online-age"),({"com":6.0206003,"dot":7.22472,"gmail":1.20412,"at":4.51545,"fernando":1.20412,"f":1.20412,"sahan":0.90309,"it's":0.60206}, "signup-online-account-email-address"),({"online":3.61236,"account":4.81648,"an":4.81648,"for":1.4539974,"signup":2.40824,"i":1.9838858,"can":4.51545}, "root-concern"),({"kshare":0.90309,"is":0.7269987,"name":0.7269987,"my":0.7269987}, "signup-online-account-name"),({"three":0.4259687,"twnty":3.61236,"i'm":2.40824}, "signup-online-age"),({"com":6.0206003,"dot":7.22472,"hotmail":1.20412,"at":4.51545,"kshare":0.90309}, "signup-online-account-email-address"),({"account":4.81648,"online":3.61236,"an":4.81648,"create":2.40824,"to":8.093406}, "root-concern"),({"roberta":0.90309}, "signup-online-account-name"),({"one":0.4259687,"twenty":1.20412,"am":0.90309,"i":0.27052987}, "signup-online-age"),({"com":6.0206003,"dot":7.22472,"ymail":1.20412,"at":4.51545,"five":2.70927,"five":2.70927,"five":2.70927,"underscore":1.20412,"roberta":0.90309}, "signup-online-account-email-address"),({"account":4.81648,"onilne":1.20412,"an":4.81648,"open":1.20412}, "root-concern"),({"mahanama":0.7269987}, "signup-online-account-name"),({"two":0.60206,"fifty":1.20412,"am":0.90309,"i":0.27052987}, "signup-online-age"),({"com":6.0206003,"dot":7.22472,"live":2.40824,"at":4.51545,"three":0.4259687,"two":0.60206,"one":0.4259687,"mhana":1.20412}, "signup-online-account-email-address"),({"please":2.9079947,"room":4.51545,"a":13.5463505,"book":10.83708,"to":8.093406,"like":4.51545,"would":1.5154499,"i":1.9838858}, "root-concern"),({"shariff":0.90309,"am":0.60206,"i":0.18035325}, "book-room-name"),({"days":1.20412,"three":0.4259687,"for":2.9079947}, "book-room-number-of-days"),({"room":1.80618,"one":1.2779062,"need":2.180996,"only":1.20412,"i":0.27052987}, "book-room-number-of-rooms"),({"please":2.9079947,"room":4.51545,"a":13.5463505,"want":7.9969854,"i":1.9838858}, "root-concern"),({"bhashithe":0.90309,"it's":1.20412}, "book-room-name"),({"night":3.61236,"one":1.7038748,"for":2.9079947}, "book-room-number-of-days"),({"two":0.60206,"need":2.180996,"i":0.27052987}, "book-room-number-of-rooms"),({"room":4.51545,"few":1.20412,"a":13.5463505,"book":10.83708,"to":8.093406,"want":7.9969854,"i":1.9838858}, "root-concern"),({"rankan":1.20412,"is":0.7269987,"name":0.7269987,"my":0.7269987}, "book-room-name"),({"night":3.61236,"one":1.7038748,"for":2.9079947}, "book-room-number-of-days"),({"rooms":1.20412,"three":0.4259687,"need":2.180996,"i":0.27052987}, "book-room-number-of-rooms"),({"room":4.51545,"a":13.5463505,"book":10.83708,"to":8.093406,"need":2.9079947,"i":1.9838858}, "root-concern"),({"warren":1.20412,"am":0.60206,"i":0.18035325}, "book-room-name"),({"day":1.20412,"one":1.7038748,"for":2.9079947,"staying":1.20412,"am":0.30103,"i":0.09017663}, "book-room-number-of-days"),({"room":1.80618,"one":1.2779062,"take":0.90309,"i'll":0.7269987}, "book-room-number-of-rooms"),({"room":4.51545,"a":13.5463505,"book":10.83708,"to":8.093406,"need":2.9079947,"roomi":1.20412,"a":13.5463505,"for":1.4539974,"loking":1.20412,"am":0.60206,"i":1.9838858}, "root-concern"),({"mahanama":0.7269987,"it's":1.20412}, "book-room-name"),({"night":3.61236,"one":1.7038748,"just":0.7269987}, "book-room-number-of-days"),({"one":1.2779062,"be":0.7269987,"would":0.50514996,"also":1.20412,"that":0.90309}, "book-room-number-of-rooms")]
modelfeature_mapping_temp = {}
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["root-concern","can"] = 4.51545
modelfeature_mapping_temp["book-train-name","shariff"] = 0.90309
modelfeature_mapping_temp["book-train-name","ahmed"] = 1.20412
modelfeature_mapping_temp["book-train-name","it's"] = 0.60206
modelfeature_mapping_temp["book-train-departure","kandy"] = 0.50514996
modelfeature_mapping_temp["book-train-departure","from"] = 2.0205998
modelfeature_mapping_temp["book-train-destination","colombo"] = 1.0102999
modelfeature_mapping_temp["book-train-destination","to"] = 1.2779062
modelfeature_mapping_temp["book-train-number-of-tickets","please"] = 1.4539974
modelfeature_mapping_temp["book-train-number-of-tickets","tickets"] = 2.40824
modelfeature_mapping_temp["book-train-number-of-tickets","5"] = 1.20412
modelfeature_mapping_temp["root-concern","ticket"] = 1.80618
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","like"] = 4.51545
modelfeature_mapping_temp["root-concern","would"] = 1.5154499
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-train-name","aron"] = 1.20412
modelfeature_mapping_temp["book-train-name","pual"] = 1.20412
modelfeature_mapping_temp["book-train-name","is"] = 1.4539974
modelfeature_mapping_temp["book-train-name","name"] = 1.4539974
modelfeature_mapping_temp["book-train-name","my"] = 1.4539974
modelfeature_mapping_temp["book-train-departure","colombo"] = 1.0102999
modelfeature_mapping_temp["book-train-departure","from"] = 2.0205998
modelfeature_mapping_temp["book-train-departure","leaving"] = 0.90309
modelfeature_mapping_temp["book-train-departure","be"] = 0.7269987
modelfeature_mapping_temp["book-train-departure","would"] = 0.50514996
modelfeature_mapping_temp["book-train-departure","i"] = 0.09017663
modelfeature_mapping_temp["book-train-destination","kandy"] = 0.50514996
modelfeature_mapping_temp["book-train-destination","to"] = 1.2779062
modelfeature_mapping_temp["book-train-destination","going"] = 0.90309
modelfeature_mapping_temp["book-train-destination","am"] = 0.60206
modelfeature_mapping_temp["book-train-destination","i"] = 0.18035325
modelfeature_mapping_temp["book-train-number-of-tickets","you"] = 0.90309
modelfeature_mapping_temp["book-train-number-of-tickets","thank"] = 1.20412
modelfeature_mapping_temp["book-train-number-of-tickets","1"] = 1.20412
modelfeature_mapping_temp["book-train-number-of-tickets","just"] = 1.4539974
modelfeature_mapping_temp["root-concern","ticket"] = 1.80618
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-train-name","luna"] = 1.20412
modelfeature_mapping_temp["book-train-name","diago"] = 1.20412
modelfeature_mapping_temp["book-train-departure","dhambulla"] = 1.20412
modelfeature_mapping_temp["book-train-departure","from"] = 2.0205998
modelfeature_mapping_temp["book-train-destination","jafna"] = 1.20412
modelfeature_mapping_temp["book-train-destination","to"] = 1.2779062
modelfeature_mapping_temp["book-train-number-of-tickets","please"] = 1.4539974
modelfeature_mapping_temp["book-train-number-of-tickets","tickets"] = 2.40824
modelfeature_mapping_temp["book-train-number-of-tickets","2"] = 1.20412
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","me"] = 1.80618
modelfeature_mapping_temp["root-concern","help"] = 1.20412
modelfeature_mapping_temp["root-concern","please"] = 2.9079947
modelfeature_mapping_temp["root-concern","you"] = 1.80618
modelfeature_mapping_temp["root-concern","can"] = 4.51545
modelfeature_mapping_temp["book-train-name","abesinghe"] = 1.20412
modelfeature_mapping_temp["book-train-name","bhashithe"] = 0.90309
modelfeature_mapping_temp["book-train-name","am"] = 0.30103
modelfeature_mapping_temp["book-train-name","i"] = 0.09017663
modelfeature_mapping_temp["book-train-departure","fort"] = 1.20412
modelfeature_mapping_temp["book-train-departure","colombo"] = 1.0102999
modelfeature_mapping_temp["book-train-destination","maradhana"] = 0.7269987
modelfeature_mapping_temp["book-train-destination","from"] = 0.50514996
modelfeature_mapping_temp["book-train-destination","off"] = 1.20412
modelfeature_mapping_temp["book-train-destination","getting"] = 1.20412
modelfeature_mapping_temp["book-train-destination","am"] = 0.60206
modelfeature_mapping_temp["book-train-destination","i"] = 0.18035325
modelfeature_mapping_temp["book-train-number-of-tickets","three"] = 0.4259687
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","need"] = 2.9079947
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-train-name","mahanama"] = 0.7269987
modelfeature_mapping_temp["book-train-name","roshan"] = 1.20412
modelfeature_mapping_temp["book-train-name","is"] = 1.4539974
modelfeature_mapping_temp["book-train-name","name"] = 1.4539974
modelfeature_mapping_temp["book-train-name","my"] = 1.4539974
modelfeature_mapping_temp["book-train-departure","dhambulla"] = 1.20412
modelfeature_mapping_temp["book-train-departure","from"] = 2.0205998
modelfeature_mapping_temp["book-train-destination","colombo"] = 1.0102999
modelfeature_mapping_temp["book-train-number-of-tickets","ticket"] = 0.90309
modelfeature_mapping_temp["book-train-number-of-tickets","one"] = 0.4259687
modelfeature_mapping_temp["book-train-number-of-tickets","just"] = 1.4539974
modelfeature_mapping_temp["root-concern","taxi"] = 2.40824
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","order"] = 3.61236
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","like"] = 4.51545
modelfeature_mapping_temp["root-concern","i'd"] = 2.40824
modelfeature_mapping_temp["order-taxi-location","kandy"] = 0.50514996
modelfeature_mapping_temp["order-taxi-location","at"] = 1.80618
modelfeature_mapping_temp["root-concern","taxi"] = 2.40824
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","me"] = 1.80618
modelfeature_mapping_temp["root-concern","send"] = 0.7269987
modelfeature_mapping_temp["root-concern","you"] = 1.80618
modelfeature_mapping_temp["root-concern","can"] = 4.51545
modelfeature_mapping_temp["order-taxi-location","colombo"] = 0.50514996
modelfeature_mapping_temp["order-taxi-location","to"] = 0.8519374
modelfeature_mapping_temp["order-taxi-location","it"] = 2.40824
modelfeature_mapping_temp["order-taxi-location","send"] = 0.7269987
modelfeature_mapping_temp["root-concern","cab"] = 2.40824
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","need"] = 2.9079947
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["order-taxi-location","maradhana"] = 0.7269987
modelfeature_mapping_temp["order-taxi-location","to"] = 0.8519374
modelfeature_mapping_temp["root-concern","cab"] = 2.40824
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["order-taxi-location","dhambulla"] = 0.60206
modelfeature_mapping_temp["order-taxi-location","at"] = 1.80618
modelfeature_mapping_temp["order-taxi-location","it"] = 2.40824
modelfeature_mapping_temp["order-taxi-location","have"] = 0.90309
modelfeature_mapping_temp["order-taxi-location","i'll"] = 0.7269987
modelfeature_mapping_temp["root-concern","schedules"] = 1.20412
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","the"] = 5.41854
modelfeature_mapping_temp["root-concern","know"] = 2.70927
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","like"] = 4.51545
modelfeature_mapping_temp["root-concern","i'd"] = 2.40824
modelfeature_mapping_temp["get-train-info-departure","colombo"] = 0.50514996
modelfeature_mapping_temp["get-train-info-departure","from"] = 1.0102999
modelfeature_mapping_temp["get-train-info-departure","go"] = 1.20412
modelfeature_mapping_temp["get-train-info-departure","to"] = 0.4259687
modelfeature_mapping_temp["get-train-info-departure","want"] = 0.7269987
modelfeature_mapping_temp["get-train-info-departure","i"] = 0.18035325
modelfeature_mapping_temp["get-train-info-destination","kandy"] = 2.0205998
modelfeature_mapping_temp["get-train-info-destination","to"] = 2.1298435
modelfeature_mapping_temp["root-concern","times"] = 0.90309
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","the"] = 5.41854
modelfeature_mapping_temp["root-concern","know"] = 2.70927
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["get-train-info-departure","dhambulla"] = 0.60206
modelfeature_mapping_temp["get-train-info-departure","from"] = 1.0102999
modelfeature_mapping_temp["get-train-info-departure","leaving"] = 0.90309
modelfeature_mapping_temp["get-train-info-departure","be"] = 0.7269987
modelfeature_mapping_temp["get-train-info-departure","would"] = 0.50514996
modelfeature_mapping_temp["get-train-info-departure","i"] = 0.18035325
modelfeature_mapping_temp["get-train-info-destination","maradhana"] = 1.4539974
modelfeature_mapping_temp["get-train-info-destination","to"] = 2.1298435
modelfeature_mapping_temp["get-train-info-destination","going"] = 0.90309
modelfeature_mapping_temp["get-train-info-destination","am"] = 0.60206
modelfeature_mapping_temp["get-train-info-destination","i"] = 0.27052987
modelfeature_mapping_temp["root-concern","shedules"] = 2.40824
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","the"] = 5.41854
modelfeature_mapping_temp["root-concern","get"] = 1.20412
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["get-train-info-destination","maradhana"] = 1.4539974
modelfeature_mapping_temp["get-train-info-destination","from"] = 1.0102999
modelfeature_mapping_temp["get-train-info-destination","moving"] = 1.20412
modelfeature_mapping_temp["get-train-info-destination","kandy"] = 2.0205998
modelfeature_mapping_temp["get-train-info-destination","to"] = 2.1298435
modelfeature_mapping_temp["get-train-info-destination","trains"] = 1.80618
modelfeature_mapping_temp["get-train-info-destination","the"] = 1.80618
modelfeature_mapping_temp["get-train-info-destination","of"] = 0.7269987
modelfeature_mapping_temp["get-train-info-destination","times"] = 0.90309
modelfeature_mapping_temp["get-train-info-destination","the"] = 1.80618
modelfeature_mapping_temp["get-train-info-destination","know"] = 0.90309
modelfeature_mapping_temp["get-train-info-destination","to"] = 2.1298435
modelfeature_mapping_temp["get-train-info-destination","want"] = 0.7269987
modelfeature_mapping_temp["get-train-info-destination","i"] = 0.27052987
modelfeature_mapping_temp["root-concern","kandy"] = 0.50514996
modelfeature_mapping_temp["root-concern","from"] = 0.50514996
modelfeature_mapping_temp["root-concern","nleaving"] = 1.20412
modelfeature_mapping_temp["root-concern","train"] = 8.428841
modelfeature_mapping_temp["root-concern","the"] = 5.41854
modelfeature_mapping_temp["root-concern","of"] = 0.7269987
modelfeature_mapping_temp["root-concern","shedules"] = 2.40824
modelfeature_mapping_temp["root-concern","the"] = 5.41854
modelfeature_mapping_temp["root-concern","know"] = 2.70927
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["get-train-info-destination","kandy"] = 2.0205998
modelfeature_mapping_temp["get-train-info-destination","from"] = 1.0102999
modelfeature_mapping_temp["get-train-info-destination","colombo"] = 0.50514996
modelfeature_mapping_temp["get-train-info-destination","to"] = 2.1298435
modelfeature_mapping_temp["get-train-info-destination","leave"] = 1.20412
modelfeature_mapping_temp["get-train-info-destination","that"] = 0.90309
modelfeature_mapping_temp["get-train-info-destination","trains"] = 1.80618
modelfeature_mapping_temp["get-train-info-destination","for"] = 0.7269987
modelfeature_mapping_temp["get-train-info-destination","looking"] = 0.90309
modelfeature_mapping_temp["get-train-info-destination","am"] = 0.60206
modelfeature_mapping_temp["get-train-info-destination","i"] = 0.27052987
modelfeature_mapping_temp["root-concern","time"] = 1.20412
modelfeature_mapping_temp["root-concern","departing"] = 1.20412
modelfeature_mapping_temp["root-concern","trains"] = 0.90309
modelfeature_mapping_temp["root-concern","the"] = 5.41854
modelfeature_mapping_temp["root-concern","about"] = 1.20412
modelfeature_mapping_temp["root-concern","find"] = 1.20412
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["root-concern","can"] = 4.51545
modelfeature_mapping_temp["get-train-info-destination","dhambulla"] = 0.60206
modelfeature_mapping_temp["get-train-info-destination","fomr"] = 1.20412
modelfeature_mapping_temp["get-train-info-destination","kandy"] = 2.0205998
modelfeature_mapping_temp["root-concern","please"] = 2.9079947
modelfeature_mapping_temp["root-concern","food"] = 6.0206003
modelfeature_mapping_temp["root-concern","some"] = 3.61236
modelfeature_mapping_temp["root-concern","order"] = 3.61236
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["order-food-food-type","pizza"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","have"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","to"] = 0.4259687
modelfeature_mapping_temp["order-food-food-type","like"] = 0.90309
modelfeature_mapping_temp["order-food-food-type","would"] = 0.50514996
modelfeature_mapping_temp["order-food-food-type","i"] = 0.18035325
modelfeature_mapping_temp["order-food-number-of-orders","please"] = 1.4539974
modelfeature_mapping_temp["order-food-number-of-orders",""] = 1.20412
modelfeature_mapping_temp["order-food-number-of-orders","pizza's"] = 1.20412
modelfeature_mapping_temp["order-food-number-of-orders","three"] = 0.4259687
modelfeature_mapping_temp["order-food-number-of-orders","us"] = 1.20412
modelfeature_mapping_temp["order-food-number-of-orders","send"] = 0.7269987
modelfeature_mapping_temp["root-concern","food"] = 6.0206003
modelfeature_mapping_temp["root-concern","some"] = 3.61236
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["order-food-food-type","rotti"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","some"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","have"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","i"] = 0.18035325
modelfeature_mapping_temp["order-food-food-type","can"] = 0.90309
modelfeature_mapping_temp["order-food-number-of-orders","one"] = 1.2779062
modelfeature_mapping_temp["order-food-number-of-orders","take"] = 0.90309
modelfeature_mapping_temp["order-food-number-of-orders","i'll"] = 0.7269987
modelfeature_mapping_temp["root-concern","food"] = 6.0206003
modelfeature_mapping_temp["root-concern","buy"] = 2.40824
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","like"] = 4.51545
modelfeature_mapping_temp["root-concern","would"] = 1.5154499
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["order-food-food-type","bread"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","some"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","me"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","give"] = 2.40824
modelfeature_mapping_temp["order-food-number-of-orders","please"] = 1.4539974
modelfeature_mapping_temp["order-food-number-of-orders","two"] = 0.60206
modelfeature_mapping_temp["root-concern","food"] = 6.0206003
modelfeature_mapping_temp["root-concern","some"] = 3.61236
modelfeature_mapping_temp["root-concern","buy"] = 2.40824
modelfeature_mapping_temp["order-food-food-type","bun"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","a"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","me"] = 1.80618
modelfeature_mapping_temp["order-food-food-type","give"] = 2.40824
modelfeature_mapping_temp["order-food-number-of-orders","one"] = 1.2779062
modelfeature_mapping_temp["order-food-number-of-orders","just"] = 0.7269987
modelfeature_mapping_temp["order-food-number-of-orders","need"] = 0.7269987
modelfeature_mapping_temp["order-food-number-of-orders","i"] = 0.09017663
modelfeature_mapping_temp["root-concern","food"] = 6.0206003
modelfeature_mapping_temp["root-concern","some"] = 3.61236
modelfeature_mapping_temp["root-concern","order"] = 3.61236
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","looking"] = 0.90309
modelfeature_mapping_temp["root-concern","am"] = 0.60206
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["order-food-food-type","do"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","will"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","cacke"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","of"] = 0.7269987
modelfeature_mapping_temp["order-food-food-type","piece"] = 1.20412
modelfeature_mapping_temp["order-food-food-type","a"] = 1.80618
modelfeature_mapping_temp["order-food-number-of-orders","one"] = 1.2779062
modelfeature_mapping_temp["root-concern","signup"] = 2.40824
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["signup-online-account-name","chanaka"] = 0.90309
modelfeature_mapping_temp["signup-online-account-name","it's"] = 0.60206
modelfeature_mapping_temp["signup-online-age","five"] = 0.90309
modelfeature_mapping_temp["signup-online-age","twnty"] = 3.61236
modelfeature_mapping_temp["signup-online-age","i'm"] = 2.40824
modelfeature_mapping_temp["signup-online-account-email-address","com"] = 6.0206003
modelfeature_mapping_temp["signup-online-account-email-address","dot"] = 7.22472
modelfeature_mapping_temp["signup-online-account-email-address","live"] = 2.40824
modelfeature_mapping_temp["signup-online-account-email-address","at"] = 4.51545
modelfeature_mapping_temp["signup-online-account-email-address","gunasekara"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","dot"] = 7.22472
modelfeature_mapping_temp["signup-online-account-email-address","chanaka"] = 0.90309
modelfeature_mapping_temp["root-concern","account"] = 4.81648
modelfeature_mapping_temp["root-concern","online"] = 3.61236
modelfeature_mapping_temp["root-concern","an"] = 4.81648
modelfeature_mapping_temp["root-concern","create"] = 2.40824
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["signup-online-account-name","sahan"] = 0.90309
modelfeature_mapping_temp["signup-online-account-name","am"] = 0.30103
modelfeature_mapping_temp["signup-online-account-name","i"] = 0.09017663
modelfeature_mapping_temp["signup-online-age","old"] = 1.20412
modelfeature_mapping_temp["signup-online-age","years"] = 1.20412
modelfeature_mapping_temp["signup-online-age","six"] = 1.20412
modelfeature_mapping_temp["signup-online-age","twnty"] = 3.61236
modelfeature_mapping_temp["signup-online-age","am"] = 0.90309
modelfeature_mapping_temp["signup-online-age","i"] = 0.27052987
modelfeature_mapping_temp["signup-online-account-email-address","com"] = 6.0206003
modelfeature_mapping_temp["signup-online-account-email-address","dot"] = 7.22472
modelfeature_mapping_temp["signup-online-account-email-address","gmail"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","at"] = 4.51545
modelfeature_mapping_temp["signup-online-account-email-address","fernando"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","f"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","sahan"] = 0.90309
modelfeature_mapping_temp["signup-online-account-email-address","it's"] = 0.60206
modelfeature_mapping_temp["root-concern","online"] = 3.61236
modelfeature_mapping_temp["root-concern","account"] = 4.81648
modelfeature_mapping_temp["root-concern","an"] = 4.81648
modelfeature_mapping_temp["root-concern","for"] = 1.4539974
modelfeature_mapping_temp["root-concern","signup"] = 2.40824
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["root-concern","can"] = 4.51545
modelfeature_mapping_temp["signup-online-account-name","kshare"] = 0.90309
modelfeature_mapping_temp["signup-online-account-name","is"] = 0.7269987
modelfeature_mapping_temp["signup-online-account-name","name"] = 0.7269987
modelfeature_mapping_temp["signup-online-account-name","my"] = 0.7269987
modelfeature_mapping_temp["signup-online-age","three"] = 0.4259687
modelfeature_mapping_temp["signup-online-age","twnty"] = 3.61236
modelfeature_mapping_temp["signup-online-age","i'm"] = 2.40824
modelfeature_mapping_temp["signup-online-account-email-address","com"] = 6.0206003
modelfeature_mapping_temp["signup-online-account-email-address","dot"] = 7.22472
modelfeature_mapping_temp["signup-online-account-email-address","hotmail"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","at"] = 4.51545
modelfeature_mapping_temp["signup-online-account-email-address","kshare"] = 0.90309
modelfeature_mapping_temp["root-concern","account"] = 4.81648
modelfeature_mapping_temp["root-concern","online"] = 3.61236
modelfeature_mapping_temp["root-concern","an"] = 4.81648
modelfeature_mapping_temp["root-concern","create"] = 2.40824
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["signup-online-account-name","roberta"] = 0.90309
modelfeature_mapping_temp["signup-online-age","one"] = 0.4259687
modelfeature_mapping_temp["signup-online-age","twenty"] = 1.20412
modelfeature_mapping_temp["signup-online-age","am"] = 0.90309
modelfeature_mapping_temp["signup-online-age","i"] = 0.27052987
modelfeature_mapping_temp["signup-online-account-email-address","com"] = 6.0206003
modelfeature_mapping_temp["signup-online-account-email-address","dot"] = 7.22472
modelfeature_mapping_temp["signup-online-account-email-address","ymail"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","at"] = 4.51545
modelfeature_mapping_temp["signup-online-account-email-address","five"] = 2.70927
modelfeature_mapping_temp["signup-online-account-email-address","five"] = 2.70927
modelfeature_mapping_temp["signup-online-account-email-address","five"] = 2.70927
modelfeature_mapping_temp["signup-online-account-email-address","underscore"] = 1.20412
modelfeature_mapping_temp["signup-online-account-email-address","roberta"] = 0.90309
modelfeature_mapping_temp["root-concern","account"] = 4.81648
modelfeature_mapping_temp["root-concern","onilne"] = 1.20412
modelfeature_mapping_temp["root-concern","an"] = 4.81648
modelfeature_mapping_temp["root-concern","open"] = 1.20412
modelfeature_mapping_temp["signup-online-account-name","mahanama"] = 0.7269987
modelfeature_mapping_temp["signup-online-age","two"] = 0.60206
modelfeature_mapping_temp["signup-online-age","fifty"] = 1.20412
modelfeature_mapping_temp["signup-online-age","am"] = 0.90309
modelfeature_mapping_temp["signup-online-age","i"] = 0.27052987
modelfeature_mapping_temp["signup-online-account-email-address","com"] = 6.0206003
modelfeature_mapping_temp["signup-online-account-email-address","dot"] = 7.22472
modelfeature_mapping_temp["signup-online-account-email-address","live"] = 2.40824
modelfeature_mapping_temp["signup-online-account-email-address","at"] = 4.51545
modelfeature_mapping_temp["signup-online-account-email-address","three"] = 0.4259687
modelfeature_mapping_temp["signup-online-account-email-address","two"] = 0.60206
modelfeature_mapping_temp["signup-online-account-email-address","one"] = 0.4259687
modelfeature_mapping_temp["signup-online-account-email-address","mhana"] = 1.20412
modelfeature_mapping_temp["root-concern","please"] = 2.9079947
modelfeature_mapping_temp["root-concern","room"] = 4.51545
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","like"] = 4.51545
modelfeature_mapping_temp["root-concern","would"] = 1.5154499
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-room-name","shariff"] = 0.90309
modelfeature_mapping_temp["book-room-name","am"] = 0.60206
modelfeature_mapping_temp["book-room-name","i"] = 0.18035325
modelfeature_mapping_temp["book-room-number-of-days","days"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-days","three"] = 0.4259687
modelfeature_mapping_temp["book-room-number-of-days","for"] = 2.9079947
modelfeature_mapping_temp["book-room-number-of-rooms","room"] = 1.80618
modelfeature_mapping_temp["book-room-number-of-rooms","one"] = 1.2779062
modelfeature_mapping_temp["book-room-number-of-rooms","need"] = 2.180996
modelfeature_mapping_temp["book-room-number-of-rooms","only"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-rooms","i"] = 0.27052987
modelfeature_mapping_temp["root-concern","please"] = 2.9079947
modelfeature_mapping_temp["root-concern","room"] = 4.51545
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-room-name","bhashithe"] = 0.90309
modelfeature_mapping_temp["book-room-name","it's"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-days","night"] = 3.61236
modelfeature_mapping_temp["book-room-number-of-days","one"] = 1.7038748
modelfeature_mapping_temp["book-room-number-of-days","for"] = 2.9079947
modelfeature_mapping_temp["book-room-number-of-rooms","two"] = 0.60206
modelfeature_mapping_temp["book-room-number-of-rooms","need"] = 2.180996
modelfeature_mapping_temp["book-room-number-of-rooms","i"] = 0.27052987
modelfeature_mapping_temp["root-concern","room"] = 4.51545
modelfeature_mapping_temp["root-concern","few"] = 1.20412
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","want"] = 7.9969854
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-room-name","rankan"] = 1.20412
modelfeature_mapping_temp["book-room-name","is"] = 0.7269987
modelfeature_mapping_temp["book-room-name","name"] = 0.7269987
modelfeature_mapping_temp["book-room-name","my"] = 0.7269987
modelfeature_mapping_temp["book-room-number-of-days","night"] = 3.61236
modelfeature_mapping_temp["book-room-number-of-days","one"] = 1.7038748
modelfeature_mapping_temp["book-room-number-of-days","for"] = 2.9079947
modelfeature_mapping_temp["book-room-number-of-rooms","rooms"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-rooms","three"] = 0.4259687
modelfeature_mapping_temp["book-room-number-of-rooms","need"] = 2.180996
modelfeature_mapping_temp["book-room-number-of-rooms","i"] = 0.27052987
modelfeature_mapping_temp["root-concern","room"] = 4.51545
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","need"] = 2.9079947
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-room-name","warren"] = 1.20412
modelfeature_mapping_temp["book-room-name","am"] = 0.60206
modelfeature_mapping_temp["book-room-name","i"] = 0.18035325
modelfeature_mapping_temp["book-room-number-of-days","day"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-days","one"] = 1.7038748
modelfeature_mapping_temp["book-room-number-of-days","for"] = 2.9079947
modelfeature_mapping_temp["book-room-number-of-days","staying"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-days","am"] = 0.30103
modelfeature_mapping_temp["book-room-number-of-days","i"] = 0.09017663
modelfeature_mapping_temp["book-room-number-of-rooms","room"] = 1.80618
modelfeature_mapping_temp["book-room-number-of-rooms","one"] = 1.2779062
modelfeature_mapping_temp["book-room-number-of-rooms","take"] = 0.90309
modelfeature_mapping_temp["book-room-number-of-rooms","i'll"] = 0.7269987
modelfeature_mapping_temp["root-concern","room"] = 4.51545
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","book"] = 10.83708
modelfeature_mapping_temp["root-concern","to"] = 8.093406
modelfeature_mapping_temp["root-concern","need"] = 2.9079947
modelfeature_mapping_temp["root-concern","roomi"] = 1.20412
modelfeature_mapping_temp["root-concern","a"] = 13.5463505
modelfeature_mapping_temp["root-concern","for"] = 1.4539974
modelfeature_mapping_temp["root-concern","loking"] = 1.20412
modelfeature_mapping_temp["root-concern","am"] = 0.60206
modelfeature_mapping_temp["root-concern","i"] = 1.9838858
modelfeature_mapping_temp["book-room-name","mahanama"] = 0.7269987
modelfeature_mapping_temp["book-room-name","it's"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-days","night"] = 3.61236
modelfeature_mapping_temp["book-room-number-of-days","one"] = 1.7038748
modelfeature_mapping_temp["book-room-number-of-days","just"] = 0.7269987
modelfeature_mapping_temp["book-room-number-of-rooms","one"] = 1.2779062
modelfeature_mapping_temp["book-room-number-of-rooms","be"] = 0.7269987
modelfeature_mapping_temp["book-room-number-of-rooms","would"] = 0.50514996
modelfeature_mapping_temp["book-room-number-of-rooms","also"] = 1.20412
modelfeature_mapping_temp["book-room-number-of-rooms","that"] = 0.90309
modelfeature_mapping={}
for index,[label,f] in enumerate(modelfeature_mapping_temp):
    modelfeature_mapping[label,f] = (index,modelfeature_mapping_temp[label,f])
def modelfeature_mapping_function(fset,label):
    encoding = []
    for fname,fval in fset.items():
        if (label,fname) in modelfeature_mapping:
            encoding.append(modelfeature_mapping[label,fname])
    return encoding
#print(modelfeature_mapping_function({"a":1},"root-concern"))
shuffle(model_featureset)
labels=[]
for x,y in modelfeature_mapping:
    if x not in labels:
        labels.append(x)
encoding = FunctionBackedMaxentFeatureEncoding(modelfeature_mapping_function,len(modelfeature_mapping),labels)
print(encoding.length())
#print(labels)
train_set,test_set = model_featureset[10:],model_featureset[:10]
modelmodel = MaxentClassifier.train(train_set,encoding = encoding)
print(accuracy(modelmodel,test_set))
#save_classifier = open("model.pickle","wb")
#pickle.dump(model, save_classifier)
#save_classifier.close()